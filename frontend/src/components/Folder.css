.folder {
  --transition-duration: 0.35s;
  --transition-ease: cubic-bezier(0.4, 0, 0.2, 1);
  width: 130px;
  height: 100px;
  cursor: pointer;
  position: relative;
  user-select: none;
}

.folder__back {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 130px;
  height: 85px;
  background: var(--folder-back-color);
  border-radius: 4px 12px 12px 12px;
  box-shadow: 0 4px 24px rgba(201,168,76,0.08);
}

.folder__back::before {
  content: '';
  position: absolute;
  top: -14px;
  left: 0;
  width: 50px;
  height: 16px;
  background: var(--folder-back-color);
  border-radius: 4px 8px 0 0;
}

.paper {
  position: absolute;
  bottom: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: 75%;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: monospace;
  font-size: 11px;
  text-align: center;
  padding: 8px;
  transition:
    transform var(--transition-duration) var(--transition-ease),
    bottom var(--transition-duration) var(--transition-ease);
  overflow: hidden;
}

.paper-1 {
  background: var(--paper-1);
  z-index: 3;
  transform: translateX(-50%) rotate(-4deg);
}
.paper-2 {
  background: var(--paper-2);
  z-index: 2;
  transform: translateX(-50%) rotate(2deg);
}
.paper-3 {
  background: var(--paper-3);
  z-index: 1;
  transform: translateX(-50%) rotate(-1deg);
}

/* Open state */
.folder.open .paper-1 {
  bottom: 110%;
  transform: translate(calc(-50% + var(--magnet-x, 0px)), calc(-20px + var(--magnet-y, 0px))) rotate(-15deg);
  z-index: 3;
}
.folder.open .paper-2 {
  bottom: 110%;
  transform: translate(calc(-50% + var(--magnet-x, 0px)), calc(-10px + var(--magnet-y, 0px))) rotate(5deg);
  z-index: 2;
}
.folder.open .paper-3 {
  bottom: 110%;
  transform: translate(calc(-50% + var(--magnet-x, 0px)), calc(0px + var(--magnet-y, 0px))) rotate(-2deg);
  z-index: 1;
}

.folder__front {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 130px;
  height: 85px;
  background: var(--folder-color);
  border-radius: 4px 12px 12px 12px;
  transition: transform var(--transition-duration) var(--transition-ease);
  z-index: 4;
}

.folder__front.right {
  background: var(--folder-back-color);
  border-radius: 4px 12px 12px 12px;
  transform-origin: bottom left;
  z-index: 5;
}

.folder.open .folder__front {
  transform: skewX(-8deg) scaleY(0.92) translateY(4px);
}
.folder.open .folder__front.right {
  transform: skewX(8deg) scaleY(0.92) translateY(4px);
}
